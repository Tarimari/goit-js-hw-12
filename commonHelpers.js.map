{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector(`.submit-form`);\nconst list = document.querySelector(`.gallery`);\nform.addEventListener(`submit`, searchRequest);\n\n\nfunction searchRequest(evt) {\n    evt.preventDefault();\n    list.innerHTML = `<span class=\"loader\"></span>`;\n    const characteristics = evt.currentTarget.elements.search.value;\n    getRequest(characteristics)\n        .then(data => {\n            if (data.hits.length === 0)\n                 { iziToast.show({\n                    message: '❌ Sorry, there are no images matching your search query. Please try again!'\n                 });\n                list.innerHTML = ``;\n                return;}\n            list.innerHTML = createMarkup(data.hits)\n            initializeLightbox();\n        })\n        .catch(err => console.log(err))\n    \n}\n\nfunction createMarkup(arr) {\n        return arr.map( ({webformatURL, largeImageURL, tags, likes, views, comments, downloads} ) => `\n        <li class=\"gallery__item\">\n          <a class=\"gallery__link\" href=\"${largeImageURL}\">\n            <img class=\"gallery__image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n          </a>\n          <ul class=\"gallery-stats\">\n            <li class=\"gallery-stats-item\">\n              <h3 class=\"stats-head\">Likes</h3>\n              <p class=\"stats-indicator\">${likes}</p>\n            </li>\n            <li class=\"gallery-stats-item\">\n              <h3 class=\"stats-head\">Views</h3>\n              <p class=\"stats-indicator\">${views}</p>\n            </li>\n            <li class=\"gallery-stats-item\">\n              <h3 class=\"stats-head\">Comments</h3>\n              <p class=\"stats-indicator\">${comments}</p>\n            </li>\n            <li class=\"gallery-stats-item\">\n              <h3 class=\"stats-head\">Downloads</h3>\n              <p class=\"stats-indicator\">${downloads}</p>\n            </li>\n          </ul>\n        </li>\n   `).join(``)\n}\n\nfunction getRequest(characteristics) {\n\n    const BASE_URL = `https://pixabay.com/api/`;\n    const API_KEY = `41768952-3eb5a1819d194e4ebd739434d`\n    return fetch(`${BASE_URL}?key=${API_KEY}&q=${characteristics}&image_type=photo&orientation=horizontal&safesearch=true`)\n        .then(resp => {\n            if (!resp.ok) {\n            throw new Error(resp.statusText)\n            }\n            return resp.json()\n    })\n\n}\n\nfunction initializeLightbox() {\n    const instance = new SimpleLightbox('.gallery a', {\n        captionsDelay: 250,\n        captionPosition: \"bottom\",\n    });\n    instance.refresh();\n}\n"],"names":["form","list","searchRequest","evt","characteristics","getRequest","data","createMarkup","initializeLightbox","err","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","resp","SimpleLightbox"],"mappings":"svBAIA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAO,SAAS,cAAc,UAAU,EAC9CD,EAAK,iBAAiB,SAAUE,CAAa,EAG7C,SAASA,EAAcC,EAAK,CACxBA,EAAI,eAAc,EAClBF,EAAK,UAAY,+BACjB,MAAMG,EAAkBD,EAAI,cAAc,SAAS,OAAO,MAC1DE,EAAWD,CAAe,EACrB,KAAKE,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACpB,CAAE,SAAS,KAAK,CACb,QAAS,4EAC7B,CAAkB,EACFL,EAAK,UAAY,GACjB,MAAO,CACXA,EAAK,UAAYM,EAAaD,EAAK,IAAI,EACvCE,GACZ,CAAS,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAEtC,CAEA,SAASF,EAAaG,EAAK,CACnB,OAAOA,EAAI,IAAK,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,2CAE1DL;AAAA,+CACID,WAAsBE;AAAA;AAAA;AAAA;AAAA;AAAA,2CAK1BC;AAAA;AAAA;AAAA;AAAA,2CAIAC;AAAA;AAAA;AAAA;AAAA,2CAIAC;AAAA;AAAA;AAAA;AAAA,2CAIAC;AAAA;AAAA;AAAA;AAAA,IAIvC,EAAE,KAAK,EAAE,CACb,CAEA,SAASZ,EAAWD,EAAiB,CAIjC,OAAO,MAAM,qEAAgCA,2DAAyE,EACjH,KAAKc,GAAQ,CACV,GAAI,CAACA,EAAK,GACV,MAAM,IAAI,MAAMA,EAAK,UAAU,EAE/B,OAAOA,EAAK,KAAM,CAC9B,CAAK,CAEL,CAEA,SAASV,GAAqB,CACT,IAAIW,EAAe,aAAc,CAC9C,cAAe,IACf,gBAAiB,QACzB,CAAK,EACQ,QAAO,CACpB"}